{"version":3,"file":"bundle.js","sources":["../../src/js/utils.js","../../src/js/model.js","../../src/js/actions.js","../../src/js/blueprint.js","../../src/js/nodeFactory.js","../../src/js/machine.js","../../src/js/ui.js","../../src/js/db.js","../../src/js/app.js"],"sourcesContent":["const createId = () => {\n  const randomString = Math.random().toString(36).substring(2);\n  const timestamp    = (new Date()).getTime().toString(36);\n\n  return randomString + timestamp;\n};\n\nexport { createId };\n\n// need globally unique ids across sessions.\n// solution: instead of incrementing, generate\n// something that is more or less guaranteed to be unique:\n\n// let uniqueId = Math.random().toString(36).substring(2) + (new Date()).getTime().toString(36);\n","import { createId } from './utils.js'\n\nconst Frame = {\n  get coordinates() {\n    return {\n      top:    this.top,\n      left:   this.left,\n      width:  this.width,\n      height: this.height,\n    };\n  },\n\n  set(coordinates) {\n    this.left   = coordinates.left || this.left;\n    this.top    = coordinates.top || this.top;\n    this.width  = coordinates.width || this.width;\n    this.height = coordinates.height || this.height;\n  },\n\n  init(coordinates) {\n    this.left   = coordinates.left || 0;\n    this.top    = coordinates.top || 0;\n    this.width  = coordinates.width || 0;\n    this.height = coordinates.height || 0;\n    this._id    = createId();\n    return this;\n  },\n};\n\nconst findIndexOf = function(selectedFrame) {\n  const frames = model.selected.shape.frames;\n  for (let i = 0; i < frames.length; i += 1) {\n    if (frames[i] === selectedFrame) {\n      return i;\n    }\n  }\n};\n\nconst model = {\n  get data() {\n    return {\n      _id: this._id,\n      shapes: this.shapes,\n      selected: this.selected,\n    };\n  },\n\n  appendShape() {\n    const shape = {\n      _id: createId(),\n      frames: [],\n    };\n    this.shapes.push(shape);\n    this.selected.shape = shape;\n    this.selected.frame = null;\n  },\n\n  insertFrameInPlace(coordinates = {}) {\n    const frame  = Object.create(Frame).init(coordinates);\n    const frames = this.selected.shape.frames;\n\n    if (this.selected.frame) {\n      const index = findIndexOf(this.selected.frame);\n      frames.splice(index + 1, 0, frame);\n    } else {\n      frames.push(frame);\n    }\n\n    this.selected.frame = frame;\n  },\n\n  deleteSelectedFrame() {\n    const frames = this.selected.shape.frames;\n    const index = findIndexOf(this.selected.frame);\n    frames.splice(index, 1);\n\n    if (frames[index] !== undefined) {\n      this.selected.frame = frames[index];\n    } else if (frames[index - 1] !== undefined) {\n      this.selected.frame = frames[index - 1];\n    } else {\n      this.selected.frame = null;\n    }\n  },\n\n  selectFrame(id) {\n    for (let shape of this.shapes) {\n      for (let frame of shape.frames) {\n        if (frame._id === id) {\n          console.log('found match');\n          this.selected.frame = frame;\n          this.selected.shape = shape;\n          return frame;\n        }\n      }\n    }\n  },\n\n  createProjectSkeleton() {\n    const projectId = createId();\n    const shapeId = createId();\n    const shape = {\n      _id: shapeId,\n      frames: [],\n    };\n\n    return {\n      _id: projectId,\n      shapes: [shape],\n      selected: {\n        shape: shape,\n        frame: null,\n      }\n    };\n  },\n\n  // in a world of many projects, it seems that it would make sense to have many models (each one representing a project). but let's see about that later.\n  init() {\n    // TODO: this is awkward, fix.\n    const project = this.createProjectSkeleton();\n    this._id = project._id;\n    this.shapes = project.shapes;\n    this.selected = project.selected;\n\n    console.log(this._id);\n\n      // case where we did not get data:\n\n      // const shape = {\n      //   id: createId(),\n      //   frames: [],\n      // };\n      //\n      // this.shapes = [shape];\n      //\n      // this.selected = {\n      //   shape: shape,\n      //   frame: null,\n      // };\n\n    // this.setupShapes(JSON.parse(json));\n    return this;\n  },\n};\n\nexport { model };\n","const actions = {\n  skip() {\n    return;\n  },\n\n  clear() {\n    this.aux = {};\n  },\n\n  createShape(event) {\n    this.model.appendShape();\n  },\n\n  createProject(event) {\n    this.model.init();\n  },\n\n  setFrameOrigin(event) {\n    this.model.insertFrameInPlace();\n    this.aux.originX = event.clientX;\n    this.aux.originY = event.clientY;\n  },\n\n  grabCorner(event) {\n    const frame = this.model.selected.frame;\n\n    // store coordinates of opposite corner\n    switch (event.target.dataset.corner) {\n      case 'top-left':\n        this.aux.originX = frame.left + frame.width;\n        this.aux.originY = frame.top + frame.height;\n        break;\n      case 'top-right':\n        this.aux.originX = frame.left;\n        this.aux.originY = frame.top + frame.height;\n        break;\n      case 'bottom-right':\n        this.aux.originX = frame.left;\n        this.aux.originY = frame.top;\n        break;\n      case 'bottom-left':\n        this.aux.originX = frame.left + frame.width;\n        this.aux.originY = frame.top;\n        break;\n    }\n  },\n\n  sizeFrame(event) {\n    this.model.selected.frame.set({\n      top:    Math.min(this.aux.originY, event.clientY),\n      left:   Math.min(this.aux.originX, event.clientX),\n      width:  Math.abs(this.aux.originX - event.clientX),\n      height: Math.abs(this.aux.originY - event.clientY),\n    });\n  },\n\n  deleteFrame(event) {\n    event.preventDefault(); // => it's an anchor!\n    this.model.deleteSelectedFrame();\n  },\n\n  grabFrame(event) {\n    const id = event.target.dataset.id;\n    console.log('id', id);\n    this.model.selected.frame = this.model.selectFrame(id);\n    console.log('this.model.selected.frame', this.model.selected.frame);\n\n    this.aux.originX = event.clientX;\n    this.aux.originY = event.clientY;\n  },\n\n  moveFrame(event) {\n    const frame = this.model.selected.frame;\n\n    frame.set({\n      top:  frame.top  + (event.clientY - this.aux.originY),\n      left: frame.left + (event.clientX - this.aux.originX),\n    });\n\n    this.aux.originX = event.clientX;\n    this.aux.originY = event.clientY;\n  },\n\n  init(model) {\n    this.model = model;\n    this.aux = {};\n    return this;\n  },\n};\n\nexport { actions };\n","// eventType: type of event that occured (e.g., 'click')\n// nodeType:  type of node on which the event occured, if any (e.g., 'frame')\n// action:    name of state-changing action that should be invoked (e.g.,'skip')\n// messages:  messages to be sent to machine subscribers\n// nextState: state label that the machine will transition to (e.g., 'idle')\n\nconst blueprint = {\n  // start: [\n  //   {\n  //     eventType: 'DOMContentLoaded',\n  //     action: 'skip',\n  //     nextState: 'idle',\n  //   }\n  // ],\n\n  idle: [\n    {\n      eventType: 'click',\n      nodeType: 'newShapeButton',\n      action: 'createShape',\n      nextState: 'idle',\n    },\n    {\n      eventType: 'click',\n      nodeType: 'newProjectButton',\n      action: 'createProject',\n      messages: {\n        db: 'saveNewProject',\n        ui: 'renderFrames',\n      },\n      nextState: 'idle',\n    },\n    {\n      eventType: 'click',\n      nodeType: 'animateButton',\n      action: 'skip',\n      messages: {\n        ui: 'animateShapes',\n      },\n      nextState: 'animating',\n    },\n    {\n      eventType: 'projectSaved',\n      action: 'skip',\n      messages: {\n        ui: 'displaySavedFlash',\n      },\n      nextState: 'idle',\n    },\n    {\n      eventType: 'mousedown',\n      nodeType: 'frame',\n      action: 'grabFrame',\n      messages: {\n        ui: 'renderFrames',\n      },\n      nextState: 'draggingFrame',\n    },\n    {\n      eventType: 'mousedown',\n      nodeType: 'corner',\n      action: 'grabCorner',\n      nextState: 'resizingFrame',\n    },\n    {\n      eventType: 'mousedown',\n      nodeType: 'canvas',\n      action: 'setFrameOrigin',\n      nextState: 'drawingFrame',\n    },\n    {\n      eventType: 'click',\n      nodeType: 'deleteLink',\n      action: 'deleteFrame',\n      messages: {\n        ui: 'renderFrames',\n      },\n      nextState: 'idle',\n    }\n  ],\n\n  drawingFrame: [\n    {\n      eventType: 'mousemove',\n      action: 'sizeFrame',\n      messages: {\n        ui: 'renderFrames',\n      },\n      nextState: 'drawingFrame',\n    },\n    {\n      eventType: 'mouseup',\n      action: 'clear',\n      nextState: 'idle',\n    }\n  ],\n\n  draggingFrame: [\n    {\n      eventType: 'mousemove',\n      action: 'moveFrame',\n      messages: {\n        ui: 'renderFrames',\n      },\n      nextState: 'draggingFrame',\n    },\n    {\n      eventType: 'mouseup',\n      action: 'clear',\n      nextState: 'idle',\n    }\n  ],\n\n  resizingFrame: [\n    {\n      eventType: 'mousemove',\n      action: 'sizeFrame',\n      messages: {\n        ui: 'renderFrames',\n      },\n      nextState: 'resizingFrame',\n    },\n    {\n      eventType: 'mouseup',\n      action: 'clear',\n      nextState: 'idle',\n    }\n  ],\n\n  animating: [\n    {\n      eventType: 'click',\n      nodeType: 'canvas',\n      action: 'skip',\n      nextState: 'idle',\n    },\n    {\n      eventType: 'click',\n      nodeType: 'animateButton',\n      action: 'skip',\n      messages: {\n        ui: 'animateShapes',\n      },\n      nextState: 'animating',\n    },\n  ]\n};\n\nexport { blueprint };\n","const frameTemplate = (index) => {\n  const template = document.createElement('template');\n  template.innerHTML = `\n    <div class=\"corner top-left\" data-type=\"corner\" data-corner=\"top-left\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner top-right\" data-type=\"corner\" data-corner=\"top-right\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner bottom-left\" data-type=\"corner\" data-corner=\"bottom-left\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner bottom-right\" data-type=\"corner\" data-corner=\"bottom-right\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"counter\" data-type=\"counter\">${index}</div>\n    <a class=\"deleteLink\" href=\"#\" data-type=\"deleteLink\">&times;</a>\n  `;\n  return template;\n};\n\nconst nodeFactory = {\n  makeShapeNode(id) {\n    const node = document.createElement('div');\n    node.classList.add('shape');\n    node.dataset.id = id;\n    node.dataset.type = 'shape';\n    return node;\n  },\n\n  makeFrameNode(index, id) {\n    const node = document.createElement('div');\n    node.classList.add('frame');\n    node.dataset.type = 'frame';\n    node.dataset.id = id;\n    node.appendChild(frameTemplate(index).content.cloneNode(true));\n    return node;\n  },\n};\n\nexport { nodeFactory };\n","const machine = {\n  addSubscriber(subscriber) {\n    this.subscribers.push(subscriber);\n  },\n\n  publish(data, messages) {\n    for (let subscriber of this.subscribers) {\n      subscriber.receive(data, messages);\n    }\n  },\n\n  make(transition) {\n    this.actions[transition.action](event);\n    this.state = transition.nextState;\n    this.publish(this.model.data, transition.messages || {});\n  },\n\n  dispatch(event) {\n    const eventType = event.type;\n    const nodeType  = event.target && event.target.dataset && event.target.dataset.type;\n    const transition = this.blueprint[this.state].find(t => {\n        return t.eventType === eventType &&\n          (t.nodeType === nodeType || t.nodeType === undefined);\n      });\n\n    if (transition) { this.make(transition); }\n  },\n\n  init(model, actions, blueprint) {\n    this.model     = model;\n    this.actions   = actions;\n    this.blueprint = blueprint;\n    this.subscribers = [];\n    this.state     = 'idle';\n\n    return this;\n  },\n};\n\nexport { machine };\n","const bindEvents = function(handler) {\n  ui.canvasNode.addEventListener('mousedown', handler);\n  ui.canvasNode.addEventListener('mousemove', handler);\n  ui.canvasNode.addEventListener('mouseup', handler);\n  ui.canvasNode.addEventListener('click', handler);\n\n  ui.newShapeButton.addEventListener('click', handler);\n  ui.newProjectButton.addEventListener('click', handler);\n  ui.animateButton.addEventListener('click', handler);\n};\n\nconst adjust = function(coordinates) {\n  return {\n    top:    coordinates.top - ui.canvasNode.offsetTop,\n    left:   coordinates.left - ui.canvasNode.offsetLeft,\n    width:  coordinates.width,\n    height: coordinates.height,\n  };\n};\n\nconst place = function(node, coordinates) {\n  node.style.top    = String(adjust(coordinates).top) + 'px';\n  node.style.left   = String(adjust(coordinates).left) + 'px';\n  node.style.width  = String(coordinates.width)  + 'px';\n  node.style.height = String(coordinates.height) + 'px';\n};\n\nconst ui = {\n  subscribeTo(publisher) {\n    publisher.addSubscriber(this);\n  },\n\n  receive(data, messages) {\n    messages['ui'] && this[messages['ui']](data);\n  },\n\n  renderFrames(data) {\n    this.canvasNode.innerHTML = '';\n\n    for (let shape of data.shapes) {\n      const shapeNode = this.nodeFactory.makeShapeNode(shape._id);\n      if (data.selected.shape === shape) {\n        shapeNode.classList.add('selected');\n      }\n\n      for (var i = 0; i < shape.frames.length; i += 1) {\n        const frameNode = this.nodeFactory.makeFrameNode(i, shape.frames[i]._id);\n        place(frameNode, shape.frames[i].coordinates);\n        if (shape.frames[i] === data.selected.frame) {\n          frameNode.classList.add('selected');\n        }\n\n        shapeNode.appendChild(frameNode);\n      }\n\n      this.canvasNode.appendChild(shapeNode);\n    }\n  },\n\n  animateShapes(data) {\n    this.canvasNode.innerHTML = '';\n\n    for (let shape of data.shapes) {\n      const timeline = new TimelineMax();\n      const shapeNode = this.nodeFactory.makeShapeNode();\n\n      for (let i = 0; i < shape.frames.length - 1; i += 1) {\n        let source = shape.frames[i];\n        let target = shape.frames[i + 1];\n\n        timeline.fromTo(\n          shapeNode,\n          0.3,\n          adjust(source.coordinates),\n          adjust(target.coordinates)\n        );\n      }\n\n      this.canvasNode.appendChild(shapeNode);\n    }\n  },\n\n  displaySavedFlash() {\n    const flash = document.createElement('p');\n    flash.innerHTML = 'File saved';\n    flash.classList.add('flash');\n    window.setTimeout(() => document.body.appendChild(flash), 1000);\n    window.setTimeout(() => flash.remove(), 2000);\n  },\n\n  init(machine, nodeFactory) {\n    this.nodeFactory      = nodeFactory;\n    this.canvasNode       = document.querySelector('#canvas');\n    this.newShapeButton   = document.querySelector('#new-shape');\n    this.newProjectButton = document.querySelector('#new-project');\n    this.animateButton    = document.querySelector('#animate');\n\n    bindEvents(machine.dispatch.bind(machine));\n    this.subscribeTo(machine);\n  },\n};\n\nexport { ui };\n","const bindEvents = (handler) => {\n  window.addEventListener('saveNewProject', function(event) {\n    const request = new XMLHttpRequest;\n\n    request.addEventListener('load', function() {\n      handler(new Event('projectSaved'));\n    });\n\n    request.open('POST', \"/projects/\");\n    request.responseType = 'json';\n    request.send(event.detail);\n  });\n\n  // window.addEventListener('loadProject', function(event) {\n  //\n  // });\n\n  // window.addEventListener('deleteProject', function(event) {\n  //\n  // });\n\n  // window.addEventListener('updateProject', function(event) {\n  //\n  // });\n};\n\nconst convertToDb = (data) => {\n  const frameId = data.selected.frame && data.selected.frame._id || null;\n\n  return {\n    _id: data._id,\n    shapes: data.shapes,\n    selected: {\n      shape: data.selected.shape._id,\n      frame: frameId,\n    },\n  };\n};\n\nconst convertFromDb = (data) => {\n  // TODO\n};\n\nconst db = {\n  subscribeTo(publisher) {\n    publisher.addSubscriber(this);\n  },\n\n  receive(data, messages) {\n    if (messages['db'] === 'saveNewProject') {\n      this.saveNewProject(data);\n    }\n  },\n\n  saveNewProject(data) {\n    data = convertToDb(data);\n    var event = new CustomEvent(\n      'saveNewProject',\n      { detail: JSON.stringify(data) }\n    );\n    window.dispatchEvent(event);\n  },\n\n  init(machine) {\n    bindEvents(machine.dispatch.bind(machine));\n    this.subscribeTo(machine);\n  },\n};\n\nexport { db };\n","import { model } from './model.js'; // import here?\nimport { actions } from './actions.js'; // import here?\nimport { blueprint } from './blueprint.js'; // import here?\nimport { nodeFactory } from './nodeFactory.js'; // import here?\n\nimport { machine } from './machine.js';\nimport { ui } from './ui.js';\nimport { db } from './db.js';\n\nconst app = {\n  init() {\n    model.init(); // creates \"empty\" project\n    actions.init(model);\n    machine.init(model, actions, blueprint);\n    ui.init(machine, nodeFactory);\n    db.init(machine);\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', app.init);\n\n// TODO\n\n// Notes on object structure:\n\n// machine:\n// - state\n// - actions (transform the state)\n\n// machine.state:\n// - label ('idle' etc)\n// - project (an instance of the model)\n// - aux (for more temporary data)\n\n// the ui needs the nodeFactory, but I am not sure we should pass it in here.\n// we can import it in the ui file\n"],"names":["bindEvents"],"mappings":";;;EAAA,MAAM,QAAQ,GAAG,MAAM;EACvB,EAAE,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EAC/D,EAAE,MAAM,SAAS,MAAM,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;;EAE3D,EAAE,OAAO,YAAY,GAAG,SAAS,CAAC;EAClC,CAAC,CAAC;AACF,AAEA;EACA;EACA;EACA;;EAEA,gGAAgG;;ECXhG,MAAM,KAAK,GAAG;EACd,EAAE,IAAI,WAAW,GAAG;EACpB,IAAI,OAAO;EACX,MAAM,GAAG,KAAK,IAAI,CAAC,GAAG;EACtB,MAAM,IAAI,IAAI,IAAI,CAAC,IAAI;EACvB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK;EACxB,MAAM,MAAM,EAAE,IAAI,CAAC,MAAM;EACzB,KAAK,CAAC;EACN,GAAG;;EAEH,EAAE,GAAG,CAAC,WAAW,EAAE;EACnB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC;EAChD,IAAI,IAAI,CAAC,GAAG,MAAM,WAAW,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC;EAC9C,IAAI,IAAI,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC;EAClD,IAAI,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC;EACpD,GAAG;;EAEH,EAAE,IAAI,CAAC,WAAW,EAAE;EACpB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,IAAI,IAAI,CAAC,CAAC;EACxC,IAAI,IAAI,CAAC,GAAG,MAAM,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EACvC,IAAI,IAAI,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK,IAAI,CAAC,CAAC;EACzC,IAAI,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC;EAC1C,IAAI,IAAI,CAAC,GAAG,MAAM,QAAQ,EAAE,CAAC;EAC7B,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC,CAAC;;EAEF,MAAM,WAAW,GAAG,SAAS,aAAa,EAAE;EAC5C,EAAE,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;EAC7C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;EAC7C,IAAI,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,aAAa,EAAE;EACrC,MAAM,OAAO,CAAC,CAAC;EACf,KAAK;EACL,GAAG;EACH,CAAC,CAAC;;EAEF,MAAM,KAAK,GAAG;EACd,EAAE,IAAI,IAAI,GAAG;EACb,IAAI,OAAO;EACX,MAAM,GAAG,EAAE,IAAI,CAAC,GAAG;EACnB,MAAM,MAAM,EAAE,IAAI,CAAC,MAAM;EACzB,MAAM,QAAQ,EAAE,IAAI,CAAC,QAAQ;EAC7B,KAAK,CAAC;EACN,GAAG;;EAEH,EAAE,WAAW,GAAG;EAChB,IAAI,MAAM,KAAK,GAAG;EAClB,MAAM,GAAG,EAAE,QAAQ,EAAE;EACrB,MAAM,MAAM,EAAE,EAAE;EAChB,KAAK,CAAC;EACN,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;EAChC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;EAC/B,GAAG;;EAEH,EAAE,kBAAkB,CAAC,WAAW,GAAG,EAAE,EAAE;EACvC,IAAI,MAAM,KAAK,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EAC1D,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;;EAE9C,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;EAC7B,MAAM,MAAM,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;EACrD,MAAM,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;EACzC,KAAK,MAAM;EACX,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACzB,KAAK;;EAEL,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;EAChC,GAAG;;EAEH,EAAE,mBAAmB,GAAG;EACxB,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;EAC9C,IAAI,MAAM,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;EACnD,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;;EAE5B,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE;EACrC,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;EAC1C,KAAK,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,SAAS,EAAE;EAChD,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;EAC9C,KAAK,MAAM;EACX,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;EACjC,KAAK;EACL,GAAG;;EAEH,EAAE,WAAW,CAAC,EAAE,EAAE;EAClB,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;EACnC,MAAM,KAAK,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;EACtC,QAAQ,IAAI,KAAK,CAAC,GAAG,KAAK,EAAE,EAAE;EAC9B,UAAU,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;EACrC,UAAU,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;EACtC,UAAU,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;EACtC,UAAU,OAAO,KAAK,CAAC;EACvB,SAAS;EACT,OAAO;EACP,KAAK;EACL,GAAG;;EAEH,EAAE,qBAAqB,GAAG;EAC1B,IAAI,MAAM,SAAS,GAAG,QAAQ,EAAE,CAAC;EACjC,IAAI,MAAM,OAAO,GAAG,QAAQ,EAAE,CAAC;EAC/B,IAAI,MAAM,KAAK,GAAG;EAClB,MAAM,GAAG,EAAE,OAAO;EAClB,MAAM,MAAM,EAAE,EAAE;EAChB,KAAK,CAAC;;EAEN,IAAI,OAAO;EACX,MAAM,GAAG,EAAE,SAAS;EACpB,MAAM,MAAM,EAAE,CAAC,KAAK,CAAC;EACrB,MAAM,QAAQ,EAAE;EAChB,QAAQ,KAAK,EAAE,KAAK;EACpB,QAAQ,KAAK,EAAE,IAAI;EACnB,OAAO;EACP,KAAK,CAAC;EACN,GAAG;;EAEH;EACA,EAAE,IAAI,GAAG;EACT;EACA,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;EACjD,IAAI,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;EAC3B,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;EACjC,IAAI,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;;EAErC,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;EAE1B;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC,CAAC;;EC/IF,MAAM,OAAO,GAAG;EAChB,EAAE,IAAI,GAAG;EACT,IAAI,OAAO;EACX,GAAG;;EAEH,EAAE,KAAK,GAAG;EACV,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;EAClB,GAAG;;EAEH,EAAE,WAAW,CAAC,KAAK,EAAE;EACrB,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;EAC7B,GAAG;;EAEH,EAAE,aAAa,CAAC,KAAK,EAAE;EACvB,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;EACtB,GAAG;;EAEH,EAAE,cAAc,CAAC,KAAK,EAAE;EACxB,IAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;EACpC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,GAAG;;EAEH,EAAE,UAAU,CAAC,KAAK,EAAE;EACpB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;;EAE5C;EACA,IAAI,QAAQ,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM;EACvC,MAAM,KAAK,UAAU;EACrB,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;EACpD,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;EACpD,QAAQ,MAAM;EACd,MAAM,KAAK,WAAW;EACtB,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC;EACtC,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;EACpD,QAAQ,MAAM;EACd,MAAM,KAAK,cAAc;EACzB,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC;EACtC,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC;EACrC,QAAQ,MAAM;EACd,MAAM,KAAK,aAAa;EACxB,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;EACpD,QAAQ,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC;EACrC,QAAQ,MAAM;EACd,KAAK;EACL,GAAG;;EAEH,EAAE,SAAS,CAAC,KAAK,EAAE;EACnB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;EAClC,MAAM,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;EACvD,MAAM,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;EACvD,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACxD,MAAM,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACxD,KAAK,CAAC,CAAC;EACP,GAAG;;EAEH,EAAE,WAAW,CAAC,KAAK,EAAE;EACrB,IAAI,KAAK,CAAC,cAAc,EAAE,CAAC;EAC3B,IAAI,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE,CAAC;EACrC,GAAG;;EAEH,EAAE,SAAS,CAAC,KAAK,EAAE;EACnB,IAAI,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC;EACvC,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;EAC1B,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;EAC3D,IAAI,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;EAExE,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,GAAG;;EAEH,EAAE,SAAS,CAAC,KAAK,EAAE;EACnB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC;;EAE5C,IAAI,KAAK,CAAC,GAAG,CAAC;EACd,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;EAC3D,MAAM,IAAI,EAAE,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;EAC3D,KAAK,CAAC,CAAC;;EAEP,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;EACrC,GAAG;;EAEH,EAAE,IAAI,CAAC,KAAK,EAAE;EACd,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;EACvB,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;EAClB,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC,CAAC;;ECxFF;EACA;EACA;EACA;EACA;;EAEA,MAAM,SAAS,GAAG;EAClB;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,EAAE,IAAI,EAAE;EACR,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,gBAAgB;EAChC,MAAM,MAAM,EAAE,aAAa;EAC3B,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,kBAAkB;EAClC,MAAM,MAAM,EAAE,eAAe;EAC7B,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,gBAAgB;EAC5B,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,eAAe;EAC/B,MAAM,MAAM,EAAE,MAAM;EACpB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,eAAe;EAC3B,OAAO;EACP,MAAM,SAAS,EAAE,WAAW;EAC5B,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,cAAc;EAC/B,MAAM,MAAM,EAAE,MAAM;EACpB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,mBAAmB;EAC/B,OAAO;EACP,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,QAAQ,EAAE,OAAO;EACvB,MAAM,MAAM,EAAE,WAAW;EACzB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,eAAe;EAChC,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,QAAQ,EAAE,QAAQ;EACxB,MAAM,MAAM,EAAE,YAAY;EAC1B,MAAM,SAAS,EAAE,eAAe;EAChC,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,QAAQ,EAAE,QAAQ;EACxB,MAAM,MAAM,EAAE,gBAAgB;EAC9B,MAAM,SAAS,EAAE,cAAc;EAC/B,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,YAAY;EAC5B,MAAM,MAAM,EAAE,aAAa;EAC3B,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,GAAG;;EAEH,EAAE,YAAY,EAAE;EAChB,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,MAAM,EAAE,WAAW;EACzB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,cAAc;EAC/B,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,SAAS;EAC1B,MAAM,MAAM,EAAE,OAAO;EACrB,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,GAAG;;EAEH,EAAE,aAAa,EAAE;EACjB,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,MAAM,EAAE,WAAW;EACzB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,eAAe;EAChC,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,SAAS;EAC1B,MAAM,MAAM,EAAE,OAAO;EACrB,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,GAAG;;EAEH,EAAE,aAAa,EAAE;EACjB,IAAI;EACJ,MAAM,SAAS,EAAE,WAAW;EAC5B,MAAM,MAAM,EAAE,WAAW;EACzB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,cAAc;EAC1B,OAAO;EACP,MAAM,SAAS,EAAE,eAAe;EAChC,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,SAAS;EAC1B,MAAM,MAAM,EAAE,OAAO;EACrB,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,GAAG;;EAEH,EAAE,SAAS,EAAE;EACb,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,QAAQ;EACxB,MAAM,MAAM,EAAE,MAAM;EACpB,MAAM,SAAS,EAAE,MAAM;EACvB,KAAK;EACL,IAAI;EACJ,MAAM,SAAS,EAAE,OAAO;EACxB,MAAM,QAAQ,EAAE,eAAe;EAC/B,MAAM,MAAM,EAAE,MAAM;EACpB,MAAM,QAAQ,EAAE;EAChB,QAAQ,EAAE,EAAE,eAAe;EAC3B,OAAO;EACP,MAAM,SAAS,EAAE,WAAW;EAC5B,KAAK;EACL,GAAG;EACH,CAAC,CAAC;;EClJF,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK;EACjC,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;EACtD,EAAE,QAAQ,CAAC,SAAS,GAAG,CAAC;;;;;;;;;;;;;6CAaqB,EAAE,KAAK,CAAC;;EAEnD,CAAC,CAAC;EACJ,EAAE,OAAO,QAAQ,CAAC;EAClB,CAAC,CAAC;;EAEF,MAAM,WAAW,GAAG;EACpB,EAAE,aAAa,CAAC,EAAE,EAAE;EACpB,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC/C,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;EAChC,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;EAChC,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;;EAEH,EAAE,aAAa,CAAC,KAAK,EAAE,EAAE,EAAE;EAC3B,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC/C,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;EAChC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;EAChC,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;EACnE,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC,CAAC;;ECtCF,MAAM,OAAO,GAAG;EAChB,EAAE,aAAa,CAAC,UAAU,EAAE;EAC5B,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACtC,GAAG;;EAEH,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE;EAC1B,IAAI,KAAK,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE;EAC7C,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;EACzC,KAAK;EACL,GAAG;;EAEH,EAAE,IAAI,CAAC,UAAU,EAAE;EACnB,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC;EAC3C,IAAI,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC;EACtC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC;EAC7D,GAAG;;EAEH,EAAE,QAAQ,CAAC,KAAK,EAAE;EAClB,IAAI,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;EACjC,IAAI,MAAM,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;EACxF,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI;EAC5D,QAAQ,OAAO,CAAC,CAAC,SAAS,KAAK,SAAS;EACxC,WAAW,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;EAChE,OAAO,CAAC,CAAC;;EAET,IAAI,IAAI,UAAU,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;EAC9C,GAAG;;EAEH,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE;EAClC,IAAI,IAAI,CAAC,KAAK,OAAO,KAAK,CAAC;EAC3B,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC;EAC7B,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC/B,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;EAC1B,IAAI,IAAI,CAAC,KAAK,OAAO,MAAM,CAAC;;EAE5B,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,CAAC,CAAC;;ECrCF,MAAM,UAAU,GAAG,SAAS,OAAO,EAAE;EACrC,EAAE,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;EACvD,EAAE,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;EACvD,EAAE,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;EACrD,EAAE,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;EAEnD,EAAE,EAAE,CAAC,cAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACvD,EAAE,EAAE,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACzD,EAAE,EAAE,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACtD,CAAC,CAAC;;EAEF,MAAM,MAAM,GAAG,SAAS,WAAW,EAAE;EACrC,EAAE,OAAO;EACT,IAAI,GAAG,KAAK,WAAW,CAAC,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC,SAAS;EACrD,IAAI,IAAI,IAAI,WAAW,CAAC,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC,UAAU;EACvD,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK;EAC7B,IAAI,MAAM,EAAE,WAAW,CAAC,MAAM;EAC9B,GAAG,CAAC;EACJ,CAAC,CAAC;;EAEF,MAAM,KAAK,GAAG,SAAS,IAAI,EAAE,WAAW,EAAE;EAC1C,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;EAC7D,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;EAC9D,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;EACxD,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;EACxD,CAAC,CAAC;;EAEF,MAAM,EAAE,GAAG;EACX,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EAClC,GAAG;;EAEH,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE;EAC1B,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;EACjD,GAAG;;EAEH,EAAE,YAAY,CAAC,IAAI,EAAE;EACrB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,EAAE,CAAC;;EAEnC,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;EACnC,MAAM,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EAClE,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,KAAK,EAAE;EACzC,QAAQ,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EAC5C,OAAO;;EAEP,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;EACvD,QAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACjF,QAAQ,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;EACtD,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;EACrD,UAAU,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EAC9C,SAAS;;EAET,QAAQ,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;EACzC,OAAO;;EAEP,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;EAC7C,KAAK;EACL,GAAG;;EAEH,EAAE,aAAa,CAAC,IAAI,EAAE;EACtB,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,EAAE,CAAC;;EAEnC,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;EACnC,MAAM,MAAM,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAC;EACzC,MAAM,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;;EAEzD,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;EAC3D,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACrC,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;EAEzC,QAAQ,QAAQ,CAAC,MAAM;EACvB,UAAU,SAAS;EACnB,UAAU,GAAG;EACb,UAAU,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;EACpC,UAAU,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;EACpC,SAAS,CAAC;EACV,OAAO;;EAEP,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;EAC7C,KAAK;EACL,GAAG;;EAEH,EAAE,iBAAiB,GAAG;EACtB,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;EAC9C,IAAI,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;EACnC,IAAI,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;EACjC,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;EACpE,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,CAAC;EAClD,GAAG;;EAEH,EAAE,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE;EAC7B,IAAI,IAAI,CAAC,WAAW,QAAQ,WAAW,CAAC;EACxC,IAAI,IAAI,CAAC,UAAU,SAAS,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;EAC9D,IAAI,IAAI,CAAC,cAAc,KAAK,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EACjE,IAAI,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EACnE,IAAI,IAAI,CAAC,aAAa,MAAM,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;;EAE/D,IAAI,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;EAC/C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;EAC9B,GAAG;EACH,CAAC,CAAC;;ECpGF,MAAMA,YAAU,GAAG,CAAC,OAAO,KAAK;EAChC,EAAE,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,SAAS,KAAK,EAAE;EAC5D,IAAI,MAAM,OAAO,GAAG,IAAI,cAAc,CAAC;;EAEvC,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,WAAW;EAChD,MAAM,OAAO,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;EACzC,KAAK,CAAC,CAAC;;EAEP,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;EACvC,IAAI,OAAO,CAAC,YAAY,GAAG,MAAM,CAAC;EAClC,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;EAC/B,GAAG,CAAC,CAAC;;EAEL;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA,CAAC,CAAC;;EAEF,MAAM,WAAW,GAAG,CAAC,IAAI,KAAK;EAC9B,EAAE,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,CAAC;;EAEzE,EAAE,OAAO;EACT,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG;EACjB,IAAI,MAAM,EAAE,IAAI,CAAC,MAAM;EACvB,IAAI,QAAQ,EAAE;EACd,MAAM,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG;EACpC,MAAM,KAAK,EAAE,OAAO;EACpB,KAAK;EACL,GAAG,CAAC;EACJ,CAAC,CAAC;AACF,AAIA;EACA,MAAM,EAAE,GAAG;EACX,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EAClC,GAAG;;EAEH,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE;EAC1B,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,gBAAgB,EAAE;EAC7C,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;EAChC,KAAK;EACL,GAAG;;EAEH,EAAE,cAAc,CAAC,IAAI,EAAE;EACvB,IAAI,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;EAC7B,IAAI,IAAI,KAAK,GAAG,IAAI,WAAW;EAC/B,MAAM,gBAAgB;EACtB,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;EACtC,KAAK,CAAC;EACN,IAAI,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAChC,GAAG;;EAEH,EAAE,IAAI,CAAC,OAAO,EAAE;EAChB,IAAIA,YAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;EAC/C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;EAC9B,GAAG;EACH,CAAC,CAAC;;EC1DF,MAAM,GAAG,GAAG;EACZ,EAAE,IAAI,GAAG;EACT,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;EACjB,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACxB,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;EAC5C,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;EAClC,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACrB,GAAG;EACH,CAAC,CAAC;;EAEF,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;;EAExD;;EAEA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA,kCAAkC;;;;"}