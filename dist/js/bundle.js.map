{"version":3,"file":"bundle.js","sources":["../../src/js/core/clock.js","../../src/js/core/matrix.js","../../src/js/core/classList.js","../../src/js/core/node.js","../../src/js/core/sceneBuilder.js","../../src/js/core/doc.js","../../src/js/core/transformers.js","../../src/js/core/transitionTable.js","../../src/js/core/core.js","../../src/js/log/log.js","../../src/js/ui/nodeFactory.js","../../src/js/ui/inputTable.js","../../src/js/ui/sceneRenderer.js","../../src/js/ui/ui.js","../../src/js/db/db.js","../../src/js/app.js"],"sourcesContent":["const clock = {\n  tick() {\n    this.time += 1;\n  },\n\n  init(time) {\n    this.time = time || 0;\n    return this;\n  },\n};\n\nexport { clock };\n","const Matrix = {\n  multiply(other) {\n    const thisRows  = this.m.length;\n    const thisCols  = this.m[0].length;\n    const otherRows = other.m.length;\n    const otherCols = other.m[0].length;\n    const m         = new Array(thisRows);\n\n    for (let r = 0; r < thisRows; r += 1) {\n      m[r] = new Array(otherCols);\n\n      for (let c = 0; c < otherCols; c += 1) {\n        m[r][c] = 0;\n\n        for (let i = 0; i < thisCols; i += 1) {\n          m[r][c] += this.m[r][i] * other.m[i][c];\n        }\n      }\n    }\n\n    return Object.create(Matrix).init(m);\n  },\n\n  invert() {\n    const m = JSON.parse(JSON.stringify(this.m));\n    return Object.create(Matrix).init(math.inv(m));\n  },\n\n  identity() {\n    const m = JSON.parse(JSON.stringify(\n      [\n        [1, 0, 0],\n        [0, 1, 0],\n        [0, 0, 1]\n      ]\n    ));\n\n    return Object.create(Matrix).init(m);\n  },\n\n  rotation(angle, origin) {\n    const [originX, originY] = origin;\n    const sin                = Math.sin(angle);\n    const cos                = Math.cos(angle);\n\n    const m = [\n      [cos, -sin, -originX * cos + originY * sin + originX],\n      [sin,  cos, -originX * sin - originY * cos + originY],\n      [0,    0,    1                                      ]\n    ];\n\n    return Object.create(Matrix).init(m);\n  },\n\n  translation(...vector) {\n    const [vectorX, vectorY] = vector;\n\n    const m = [\n      [1, 0, vectorX],\n      [0, 1, vectorY],\n      [0, 0, 1      ]\n    ];\n\n    return Object.create(Matrix).init(m);\n  },\n\n  scale(factor, origin) {\n    const [originX, originY] = origin;\n\n    const m = [\n      [factor, 0,      originX - factor * originX],\n      [0,      factor, originY - factor * originY],\n      [0,      0,      1                         ]\n    ];\n\n    return Object.create(Matrix).init(m);\n  },\n\n  // TODO: not general enough\n  toVector() {\n    return [\n      this.m[0][0], this.m[1][0], this.m[0][1],\n      this.m[1][1], this.m[0][2], this.m[1][2]\n    ];\n  },\n\n  toArray() {\n    return this.m;\n  },\n\n  fromDOMMatrix($matrix) {\n    this.m = [\n      [$matrix.a, $matrix.c, $matrix.e],\n      [$matrix.b, $matrix.d, $matrix.f],\n      [0,         0,         1        ]\n    ];\n\n    return this;\n  },\n\n  toJSON() {\n    return this.toAttributeString();\n  },\n\n  toAttributeString() {\n    return `matrix(${this.toVector()})`;\n  },\n\n  init(m) {\n    this.m = m;\n    return this;\n  },\n};\n\nexport { Matrix };\n","const ClassList = {\n  add(className) {\n    this.set.add(className);\n  },\n\n  includes(className) {\n    return this.set.has(className);\n  },\n\n  remove(className) {\n    this.set.delete(className);\n  },\n\n  toJSON() {\n    return Array.from(this.set).join(' ');\n  },\n\n  init(classList) {\n    classList = classList ? classList : [];\n    this.set = new Set(classList);\n    return this;\n  },\n};\n\nexport { ClassList };\n","import { Matrix } from './matrix.js';\nimport { ClassList } from './classList.js';\n\nconst createID = () => {\n  const randomString = Math.random().toString(36).substring(2);\n  const timestamp    = (new Date()).getTime().toString(36);\n  return randomString + timestamp;\n};\n\nconst Node = {\n  findAncestor(predicate) {\n    if (predicate(this)) {\n      return this;\n    } else if (this.parent === null) {\n      return null;\n    } else {\n      return this.parent.findAncestor(predicate);\n    }\n  },\n\n  findAncestors(predicate, resultList = []) {\n    if (this.parent === null) {\n      return resultList;\n    } else {\n      if (predicate(this.parent)) {\n        resultList.push(this.parent);\n      }\n      return this.parent.findAncestors(predicate, resultList);\n    }\n  },\n\n  findDescendant(predicate) {\n    if (predicate(this)) {\n      return this;\n    } else {\n      for (let child of this.children) {\n        let val = child.findDescendant(predicate);\n        if (val) { return val; }\n      }\n    }\n\n    return null;\n  },\n\n  findDescendants(predicate, resultList = []) {\n    if (predicate(this)) {\n      resultList.push(this);\n    }\n\n    for (let child of this.children) {\n      child.findDescendants(predicate, resultList);\n    }\n\n    return resultList;\n  },\n\n  get root() {\n    return this.findAncestor((node) => {\n      return node.parent === null;\n    });\n  },\n\n  get ancestors() {\n    return this.findAncestors(node => true);\n  },\n\n  get descendants() {\n    return this.findDescendants(node => true);\n  },\n\n  get selected() {\n    return this.root.findDescendant((node) => {\n      return node.classList.includes('selected');\n    });\n  },\n\n  get frontier() {\n    return this.root.findDescendants((node) => {\n      return node.classList.includes('frontier');\n    });\n  },\n\n  get classList() {\n    return this.props.class;\n  },\n\n  get transform() {\n    return this.props.transform;\n  },\n\n  set transform(value) {\n    this.props.transform = value;\n  },\n\n  totalTransform() {\n    return this.ancestorTransform().multiply(this.transform);\n  },\n\n  ancestorTransform() {\n    let matrix = Matrix.identity();\n\n    for (let ancestor of this.ancestors.reverse()) {\n      matrix = matrix.multiply(ancestor.transform);\n    }\n\n    return matrix;\n  },\n\n  // for debugging purposes\n  plot(point) {\n    const node = Object.create(Node).init();\n    node.tag = 'circle';\n    node.props = Object.assign(node.props, {\n      r: 5, cx: point[0], cy: point[1], fill: 'red'\n    });\n    node.box = { x: point[0], y: point[1], width: 5, height: 5};\n    this.root.append(node);\n  },\n\n  updateBox() {\n    // store all the children's corners\n    const corners = [];\n\n    for (let child of this.children) {\n      let childCorners = child.findCorners();\n      for (let corner of childCorners) {\n        corner = this.transformPoint(corner, this.totalTransform().invert());\n        corners.push(corner);\n      }\n    }\n\n    if (corners.length === 0) {\n      return;\n    }\n\n    // find min and max:\n    const xValue  = point => point[0];\n    const yValue  = point => point[1];\n    const xValues = corners.map(xValue);\n    const yValues = corners.map(yValue);\n\n    const minX = Math.min(...xValues);\n    const maxX = Math.max(...xValues);\n    const minY = Math.min(...yValues);\n    const maxY = Math.max(...yValues);\n\n    // use min and max to update coordinates:\n    this.box = {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY,\n    };\n  },\n\n  findCorners() {\n    const northWest = [\n      this.box.x, this.box.y\n    ];\n\n    const northEast = [\n      this.box.x + this.box.width, this.box.y\n    ];\n\n    const southWest = [\n      this.box.x, this.box.y + this.box.height\n    ];\n\n    const southEast = [\n      this.box.x + this.box.width, this.box.y + this.box.height\n    ];\n\n    // return [northWest, northEast, southWest, southEast];\n\n    return [\n      this.transformPoint(northWest, this.totalTransform()),\n      this.transformPoint(northEast, this.totalTransform()),\n      this.transformPoint(southWest, this.totalTransform()),\n      this.transformPoint(southEast, this.totalTransform()),\n    ];\n  },\n\n  transformPoint(pt, matrix) {\n    const column      = Object.create(Matrix).init([[pt[0]], [pt[1]], [1]]);\n    const transformed = matrix.multiply(column).toArray();\n\n    return [transformed[0][0], transformed[1][0]];\n  },\n\n  get siblings() {\n    return this.parent.children.filter((node) => {\n      return node !== this;\n    });\n  },\n\n  unsetFrontier() {\n    const frontier = this.root.findDescendants((node) => {\n      return node.classList.includes('frontier');\n    });\n\n    for (let node of frontier) {\n      node.classList.remove('frontier');\n    }\n  },\n\n  unfocus() {\n    const focussed = this.root.findDescendants((node) => {\n      return node.classList.includes('focus');\n    });\n\n    for (let node of focussed) {\n      node.classList.remove('focus');\n    }\n  },\n\n  setFrontier() {\n    this.unsetFrontier();\n\n    if (this.selected) {\n      this.selected.classList.add('frontier');\n\n      let node = this.selected;\n\n      do {\n        for (let sibling of node.siblings) {\n          sibling.classList.add('frontier');\n        }\n        node = node.parent;\n      } while (node.parent !== null);\n    } else {\n      for (let child of this.root.children) {\n        child.classList.add('frontier');\n      }\n    }\n  },\n\n  deselectAll() {\n    if (this.selected) {\n      this.selected.classList.remove('selected');\n    }\n    this.setFrontier();\n  },\n\n  select() {\n    this.deselectAll();\n    this.classList.add('selected');\n    this.setFrontier();\n  },\n\n  append(node) {\n    this.children.push(node);\n    node.parent = this;\n  },\n\n  set(opts) {\n    for (let key of Object.keys(opts)) {\n      this[key] = opts[key];\n    }\n  },\n\n  toJSON() {\n    return {\n      _id:      this._id,\n      parent:   this.parent && this.parent._id,\n      children: this.children,\n      tag:      this.tag,\n      props:    this.props,\n      box:      this.box,\n    };\n  },\n\n  defaults() {\n    return {\n      _id:      createID(),\n      box:      { x: 0, y: 0, width: 0, height: 0 },\n      children: [],\n      parent:   null,\n      tag:      null,\n      props:    {\n        transform: Matrix.identity(),\n        class:     Object.create(ClassList).init(),\n      },\n    };\n  },\n\n  init(opts = {}) {\n    this.set(this.defaults());\n    this.set(opts);\n    return this;\n  },\n};\n\nexport { Node };\n","import { Node } from './node.js';\nimport { Matrix } from './matrix.js';\nimport { ClassList } from './classList.js';\n\nconst sceneBuilder = {\n  processAttributes($node, node) {\n    const $attributes = Array.from($node.attributes);\n    for (let $attribute of $attributes) {\n      node.props[$attribute.name] = $attribute.value;\n    }\n    delete node.props.xmlns;\n\n    // store `transform` as a Matrix object:\n    if ($node.transform && $node.transform.baseVal && $node.transform.baseVal.consolidate()) {\n      const $matrix = $node.transform.baseVal.consolidate().matrix;\n      node.props.transform = Object.create(Matrix).fromDOMMatrix($matrix);\n    } else {\n      node.props.transform = Matrix.identity();\n    }\n\n    // store `class` as a ClassList object:\n    node.props.class = Object.create(ClassList).init(\n      Array.from($node.classList)\n    );\n  },\n\n  copyTagName($node, node) {\n    node.tag = $node.tagName;\n  },\n\n  copyStyles($node, node) {\n    node.styles = Array.from($node.querySelectorAll('style'));\n  },\n\n  copyDefs($node, node) {\n    node.defs = Array.from($node.querySelectorAll('style'));\n  },\n\n  copyBBox($node, node) {\n    const box = $node.getBBox();\n    node.box = {\n      x: box.x,\n      y: box.y,\n      width: box.width,\n      height: box.height,\n    };\n    // console.log(node.box);\n  },\n\n  buildTree($node, node) {\n    this.copyTagName($node, node);\n    this.processAttributes($node, node);\n\n    this.copyBBox($node, node);\n\n    const $graphics = Array.from($node.children).filter((child) => {\n      return child instanceof SVGGElement || child instanceof SVGGeometryElement\n    });\n\n    for (let $child of $graphics) {\n      const child = Object.create(Node).init();\n      node.append(child);\n      this.buildTree($child, child);\n    }\n  },\n\n  process($svg, svg) {\n    this.copyStyles($svg, svg);\n    this.copyDefs($svg, svg);\n    this.buildTree($svg, svg);\n    svg.setFrontier();\n  },\n\n  createScene(markup) {\n    const $svg = new DOMParser()\n      .parseFromString(markup, \"application/xml\")\n      .documentElement;\n    const svg = Object.create(Node).init();\n\n    document.body.appendChild($svg);\n    this.process($svg, svg);\n    $svg.remove();\n\n    return svg;\n  },\n};\n\nexport { sceneBuilder };\n","import { sceneBuilder } from './sceneBuilder.js';\n\nconst createID = () => {\n  const randomString = Math.random().toString(36).substring(2);\n  const timestamp    = (new Date()).getTime().toString(36);\n  return randomString + timestamp;\n};\n\nconst doc = {\n  init(markup) {\n    this._id   = createID();\n    this.scene = sceneBuilder.createScene(markup);\n\n    return this;\n  },\n\n  toJSON() {\n    return {\n      _id: this._id,\n      scene: this.scene,\n    }\n  }\n};\n\nexport { doc };\n","import { Matrix } from './matrix.js';\nimport { Node } from './node.js';\nimport { ClassList } from './classList.js';\n\nlet aux = {};\n\nconst transformers = {\n\n  // AUX\n\n  // findCorners(state, node) {\n  //   const nw = [node.box.x, node.box.y];\n  //   const ne = [node.box.y + node.box.width, node.box.y];\n  //   const sw = [node.box.x, node.box.y + node.box.height];\n  //   const se = [node.box.x + node.box.width, node.box.y + node.box.height];\n  //\n  //   const ancTransform = node.ancestorTransform();\n  //   const matrix       = ancTransform.multiply(node.transform);\n  //   const [x, y]       = selected.transformPoint(nw);\n\n    // add a node to plot one of the points we found.\n    // const plot  = Object.create(Node).init();\n    // plot.tag    = 'circle';\n    // plot.props  = Object.assign(plot.props, {\n    //   r: 5, cx: x, cy: y, fill: 'red'\n    // });\n    // plot.box = { x: x, y: x, width: 5, height: 5};\n    // state.doc.scene.append(plot);\n  // },\n\n  // NEW\n  select(state, input) {\n    const selected = state.doc.scene\n      .findDescendant((node) => {\n        return node._id === input.pointer.targetID;\n      })\n      .findAncestor((node) => {\n        return node.props.class.includes('frontier');\n      });\n\n    selected ? selected.select() : state.doc.scene.deselectAll();\n\n    aux.sourceX = input.pointer.x;\n    aux.sourceY = input.pointer.y;\n  },\n\n  initRotate(state, input) {\n    const selected             = state.doc.scene.selected;\n    aux.sourceX                = input.pointer.x;\n    aux.sourceY                = input.pointer.y;\n    const box               = selected.box;\n    const centerX              = box.x + box.width / 2;\n    const centerY              = box.y + box.height / 2;\n    const center               = [centerX, centerY];\n    const matrix               = selected.totalTransform();\n    [aux.centerX, aux.centerY] = Node.transformPoint(center, matrix);\n\n    // DEBUG: adding a node to visualize the center\n    // const center  = Object.create(Node).init();\n    // center.tag    = 'circle';\n    // center.props  = Object.assign(center.props, {\n    //   r: 5, cx: aux.centerX, cy: aux.centerY, fill: 'red'\n    // });\n    // center.box = { x: centerX, y: centerY, width: 5, height: 5};\n    // selected.root.append(center);\n    // console.log(center);\n\n    // DEBUG: plot one of the corners in real coordinates\n    // this.findCorners(state, selected);\n  },\n\n  rotate(state, input) {\n    const selected     = state.doc.scene.selected;\n    const targetX      = input.pointer.x;\n    const targetY      = input.pointer.y;\n    const sourceVector = [aux.sourceX - aux.centerX, aux.sourceY - aux.centerY];\n    const targetVector = [targetX - aux.centerX, targetY - aux.centerY];\n    const sourceAngle  = Math.atan2(...sourceVector);\n    const targetAngle  = Math.atan2(...targetVector);\n    const angle        = sourceAngle - targetAngle;\n    const rotation     = Matrix.rotation(angle, [aux.centerX, aux.centerY]);\n    const ancTransform = selected.ancestorTransform();\n    const inv          = ancTransform.invert();\n    const matrix       = inv.multiply(rotation).multiply(ancTransform);\n    selected.transform = matrix.multiply(selected.transform);\n    aux.sourceX        = targetX;\n    aux.sourceY        = targetY;\n  },\n\n  shift(state, input) {\n    const selected = state.doc.scene.selected;\n\n    if (!selected) {\n      return;\n    }\n\n    const targetX      = input.pointer.x;\n    const targetY      = input.pointer.y;\n    const vectorX      = targetX - aux.sourceX;\n    const vectorY      = targetY - aux.sourceY;\n    const shift        = Matrix.translation(vectorX, vectorY);\n    const ancTransform = selected.ancestorTransform();\n    const inv          = ancTransform.invert();\n    const matrix       = inv.multiply(shift).multiply(ancTransform);\n    selected.transform = matrix.multiply(selected.transform);\n    aux.sourceX        = targetX;\n    aux.sourceY        = targetY;\n  },\n\n  release(state, input) {\n    const selected = state.doc.scene.selected;\n    for (let ancestor of selected.ancestors) {\n      ancestor.updateBox();\n    }\n    aux = {};\n  },\n\n  selectThrough(state, input) {\n    const target = state.doc.scene.findDescendant((node) => {\n      return node._id === input.pointer.targetID;\n    });\n\n    const selection = target.findAncestor((node) => {\n      return node.parent && node.parent.props.class.includes('frontier');\n    });\n\n    if (selection) {\n      selection.select();\n      state.doc.scene.setFrontier();\n      state.doc.scene.unfocus();\n    }\n  },\n\n  focus(state, input) {\n    const target = state.doc.scene.findDescendant((node) => {\n      return node._id === input.pointer.targetID;\n    });\n\n    if (target) {\n      const highlight = target.findAncestor((node) => {\n        return node.props.class.includes('frontier');\n      });\n\n      if (highlight) {\n        highlight.props.class.add('focus');\n      } else {\n        state.doc.scene.unfocus();\n      }\n    }\n  },\n\n  // OLD\n\n  createShape(state, input) {\n    state.doc.appendShape();\n\n    input.pointerData.target // 'wrapper'\n    input.pointerData.targetID // our id ...\n    input.pointerData.x  // x coord with offset\n    input.pointerData.y  // y coord with offset\n\n  },\n\n  createDoc(state, input) {\n    state.doc.init();\n    state.docs.ids.push(state.doc._id);\n    state.docs.selectedID = state.doc._id;\n  },\n\n  deleteFrame(state, input) {\n    state.doc.deleteSelectedFrame();\n  },\n\n  updateDocList(state, input) {\n    state.docs.ids = input.data.docIDs;\n  },\n\n  requestDoc(state, input) {\n    state.docs.selectedID = input.pointer.targetID;\n  },\n\n  setDoc(state, input) {\n    state.doc.init(input.data.doc);\n  },\n\n  setFrameOrigin(state, input) { // don't have it\n    state.doc.insertFrameInPlace();\n    this.aux.originX = input.pointer.x;\n    this.aux.originY = input.pointer.y;\n  },\n\n  findOppCorner(state, input) {\n    // purpose was to find the fixed point of resizing\n    // but we don't do that.\n    const frame = state.doc.selected.frame;\n\n    let opp;\n\n    switch (input.pointer.target) {\n    case 'top-left-corner':\n      opp = [frame.x + frame.width, frame.y + frame.height]; // bottom right\n      break;\n    case 'top-right-corner':\n      opp = [frame.x, frame.y + frame.height];               // bottom left\n      break;\n    case 'bot-right-corner':\n      opp = [frame.x, frame.y];                              // top left\n      break;\n    case 'bot-left-corner':\n      opp = [frame.x + frame.width, frame.y];                // top right\n      break;\n    }\n\n    // store opposite corner\n    [this.aux.oppX, this.aux.oppY] = opp;\n    // store centre of frame\n    this.aux.center = [frame.x + frame.width / 2, frame.y + frame.height / 2];\n  },\n\n  // rotate point around center by angle radians\n  // rotate(point, center, angle) {\n  //   const [pointX,  pointY ] = point;\n  //   const [centerX, centerY] = center;\n  //   const cos                = Math.cos(angle);\n  //   const sin                = Math.sin(angle);\n  //\n  //   return [\n  //     cos * (pointX - centerX) - sin * (pointY - centerY) + centerX,\n  //     sin * (pointX - centerX) + cos * (pointY - centerY) + centerY\n  //   ];\n  // },\n\n  resizeFrame(state, input) { // becomes scale transform - different!\n    const frame = state.doc.selected.frame;\n    const shape = state.doc.selected.shape;\n\n    // rotate stored opposite corner\n    const angle = frame.angle;\n    const opp = [this.aux.oppX, this.aux.oppY];\n    const [oppX, oppY] = opp;\n    const oppRotated = this.rotate(opp, this.aux.center, angle);\n    const [oppXr, oppYr] = oppRotated;\n\n    // use rotated opposite corner to unrotate mouse position\n    const cornerRotated = [input.pointer.x, input.pointer.y];\n    const [cornerXr, cornerYr] = cornerRotated;\n    const newCenter = [(cornerXr + oppXr)/2, (cornerYr + oppYr)/2];\n    const [newCenterX, newCenterY] = newCenter;\n    const corner = this.rotate(cornerRotated, newCenter, -angle);\n    const [cornerX, cornerY] = corner;\n\n    // use corner/newCenter to find new opposite corner\n    const newOpp = [\n      newCenterX + (newCenterX - cornerX),\n      newCenterY + (newCenterY - cornerY)\n    ];\n\n    // store new opposite corner (unrotated) and new center\n    const [newOppX, newOppY] = newOpp;\n    [this.aux.oppX, this.aux.oppY] = newOpp;\n    this.aux.center = newCenter;\n\n    const newWidth  = Math.abs(newOppX - cornerX);\n    const newHeight = newWidth / shape.aspectRatio;\n\n    // mutate frame state\n    state.doc.selected.frame.set({\n      x:      Math.min(newOppX, cornerX),\n      y:      Math.min(newOppY, cornerY),\n      width:  newWidth,\n      height: newHeight,\n    });\n  },\n\n  sizeFrame(state, input) { // part of creating a frame: we don't do that\n    const shape     = state.doc.selected.shape;\n    const newWidth  = Math.abs(this.aux.originX - input.pointer.x);\n    const newHeight = newWidth / shape.aspectRatio;\n\n    state.doc.selected.frame.set({\n      x:      Math.min(this.aux.originX, input.pointer.x),\n      y:      Math.min(this.aux.originY, input.pointer.y),\n      width:  newWidth,\n      height: newHeight,\n    });\n  },\n\n  // releaseFrame(state, input) {\n  //   const frame = state.doc.selected.frame;\n  // },\n\n  clean(state, input) {\n    const same = (val1, val2) => {\n      const treshold = 1;\n      return Math.abs(val1 - val2) <= treshold;\n    };\n\n    const sameX = same(this.aux.originX, input.pointer.x);\n    const sameY = same(this.aux.originY, input.pointer.y);\n\n    if (sameX && sameY) {\n      state.doc.deleteSelectedFrame();\n    }\n  },\n\n  getFrameOrigin(state, input) {\n    state.doc.select(input.pointer.targetID);\n    this.aux.originX = input.pointer.x;\n    this.aux.originY = input.pointer.y;\n  },\n\n  moveFrame(state, input) {\n    const frame = state.doc.selected.frame;\n\n    frame.set({\n      y: frame.y  + (input.pointer.y - this.aux.originY),\n      x: frame.x + (input.pointer.x - this.aux.originX),\n    });\n\n    this.aux.originX = input.pointer.x;\n    this.aux.originY = input.pointer.y;\n  },\n\n  getStartAngle(state, input) {\n    const frame              = state.doc.select(input.pointer.targetID);\n    this.aux.centerX         = frame.x + frame.width / 2;\n    this.aux.centerY         = frame.y + frame.height / 2;\n    const startX             = input.pointer.x - this.aux.centerX;\n    const startY             = input.pointer.y - this.aux.centerY;\n    this.aux.startAngle      = Math.atan2(startY, startX);\n    this.aux.frameStartAngle = frame.angle;\n  },\n\n  rotateFrame(state, input) { // don't really need that?\n    const frame        = state.doc.selected.frame;\n    const currentX     = input.pointer.x - this.aux.centerX;\n    const currentY     = input.pointer.y - this.aux.centerY;\n    const currentAngle = Math.atan2(currentY, currentX);\n    const angleToAdd   = currentAngle - this.aux.startAngle;\n\n    frame.set({ angle: this.aux.frameStartAngle + angleToAdd });\n  },\n\n  init() {\n    this.aux = {};\n  },\n};\n\nexport { transformers };\n","const transitionTable = [\n  // kickoff\n  [{ from: 'start',     input: 'kickoff'        }, { to: 'idle'              }],\n\n  // NEW\n  [{ from: 'idle',      input: 'selectThrough'  }, { to: 'idle'              }],\n  [{ from: 'idle',      input: 'movePointer'    }, { to: 'idle', do: 'focus' }],\n\n  // select/shift\n  [{ from: 'idle',      input: 'select'         }, { to: 'shifting'          }],\n  [{ from: 'shifting',  input: 'movePointer'    }, { do: 'shift'             }],\n  [{ from: 'shifting',  input: 'release'        }, { to: 'idle'              }],\n\n  // rotate\n  [{ from: 'idle',      input: 'initRotate'     }, { to: 'rotating'          }],\n  [{ from: 'rotating',  input: 'movePointer'    }, { do: 'rotate'            }],\n  [{ from: 'rotating',  input: 'release'        }, { to: 'idle'              }],\n\n  // scale\n  [{ from: 'idle',      input: 'initScale'      }, { to: 'scaling'           }],\n  [{ from: 'scaling',   input: 'movePointer'    }, { do: 'scaling'           }],\n  [{ from: 'scaling',   input: 'release'        }, { to: 'idle'              }],\n\n  // OLD\n\n  // create and delete\n  [{ from: 'idle',      input: 'createShape'    }, {                         }],\n  [{ from: 'idle',      input: 'createDoc'      }, {                         }],\n  [{ from: 'idle',      input: 'deleteFrame'    }, {                         }],\n  [{                    input: 'docSaved'       }, {                         }],\n  [{                    input: 'updateDocList'  }, {                         }],\n  [{                    input: 'requestDoc'     }, { to: 'busy'              }],\n  [{ from: 'busy',      input: 'setDoc'         }, { to: 'idle'              }],\n\n  // draw\n  [{ from: 'idle',      input: 'setFrameOrigin' }, { to: 'drawing'           }],\n  [{ from: 'drawing',   input: 'changeCoords'   }, { do: 'sizeFrame'         }],\n  [{ from: 'drawing',   input: 'releaseFrame'   }, { to: 'idle', do: 'clean' }],\n\n  // rotate\n  [{ from: 'idle',      input: 'getStartAngle'  }, { to: 'rotating'          }],\n  [{ from: 'rotating',  input: 'changeCoords'   }, { do: 'rotateFrame'       }],\n  [{ from: 'rotating',  input: 'releaseFrame'   }, { to: 'idle'              }],\n\n  // move\n  [{ from: 'idle',      input: 'getFrameOrigin' }, { to: 'dragging'          }],\n  [{ from: 'dragging',  input: 'changeCoords'   }, { do: 'moveFrame'         }],\n  [{ from: 'dragging',  input: 'releaseFrame'   }, { to: 'idle'              }],\n\n  // resize\n  [{ from: 'idle',      input: 'findOppCorner'     }, { to: 'resizing'          }],\n  [{ from: 'resizing',  input: 'changeCoords'   }, { do: 'resizeFrame'       }],\n  [{ from: 'resizing',  input: 'releaseFrame'   }, { to: 'idle'              }],\n\n  // animate\n  [{ from: 'idle',      input: 'animate'        }, { to: 'animating'         }],\n  [{ from: 'animating', input: 'animate'        }, { to: 'animating'         }],\n  [{ from: 'animating', input: 'edit'           }, { to: 'idle'              }],\n  [{ from: 'animating', input: 'createDoc'      }, { to: 'idle'              }],\n  [{ from: 'animating', input: 'createShape'    }, { to: 'idle'              }],\n];\n\ntransitionTable.get = function(key) {\n  const match = (pair) => {\n    return (pair[0].from === key[0] || !pair[0].from) &&\n      pair[0].input === key[1];\n  };\n\n  const pair = transitionTable.find(match);\n\n  if (pair) {\n    return pair[1];\n  }\n};\n\nexport { transitionTable };\n","import { clock } from './clock.js';\nimport { doc } from './doc.js';\nimport { transformers } from './transformers.js';\nimport { transitionTable } from './transitionTable.js';\n\nconst core = {\n  get stateData() {\n    return JSON.parse(JSON.stringify(this.state));\n  },\n\n  syncPeriphery() {\n    const keys = Object.keys(this.periphery);\n    for (let key of keys) {\n      this.periphery[key](JSON.parse(JSON.stringify(this.state)));\n    }\n  },\n\n  // TODO: write a proper function to initalize state from stateData\n  setState(stateData) {\n    this.state = stateData;\n    this.state.doc = doc.init(stateData.doc);\n    this.state.clock = clock.init(stateData.clock.time);\n    this.periphery['ui'] &&\n      this.periphery['ui'](JSON.parse(JSON.stringify(this.state)));\n    // ^ only UI is synced\n    // ^ TODO: call syncPeriphery here, and make that method more flexible\n  },\n\n  processInput(input) {\n    const transition = transitionTable.get([this.state.id, input.id]);\n\n    if (transition) {\n      this.transform(input, transition);\n      this.syncPeriphery();\n    }\n  },\n\n  transform(input, transition) {\n    const transformer = transformers[transition.do] || transformers[input.id];\n    transformer && transformer.bind(transformers)(this.state, input);\n\n    this.state.clock.tick();\n    this.state.currentInput = input.id;\n    this.state.id = transition.to || this.state.id;\n  },\n\n  init() {\n    this.state = {\n      clock: clock.init(),\n      id: 'start',\n      doc: doc.init(markup),\n      docs: { ids: [], selectedID: null },\n    };\n\n    transformers.init();\n    this.periphery = [];\n    return this;\n  },\n\n  // TODO: why do we need this function? why can't we just do:\n  //   this.processInput({ id: 'kickoff' });\n  // ?\n  kickoff() {\n    this.syncPeriphery();\n    this.processInput({ id: 'kickoff' });\n    // ^ TODO: this involves two syncs, is that really necessary?\n  },\n};\n\nconst markup = `\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 600 600\">\n\n    <g>\n      <circle cx=\"200\" cy=\"200\" r=\"50\"></circle>\n      <g>\n        <rect x=\"260\" y=\"250\" width=\"100\" height=\"100\"></rect>\n        <rect x=\"400\" y=\"250\" width=\"100\" height=\"100\"></rect>\n      </g>\n    </g>\n\n    <rect x=\"400\" y=\"400\" width=\"100\" height=\"100\"></rect>\n  </svg>\n`;\n\nexport { core };\n","const log = {\n  bindEvents(setState) {\n    window.addEventListener('popstate', (event) => {\n      setState(event.state);\n    });\n  },\n\n  sync(state) {\n    const ignored = [\n      'docSaved', 'edit', 'createDoc', 'createShape', 'movePointer'\n    ];\n    const ignore  = ignored.includes(state.currentInput);\n    const idle    = state.id === 'idle';\n    if (ignore || !idle) {\n      return;\n    }\n\n    window.history.pushState(state, 'entry');\n  },\n\n  init() {\n    this.name = 'log';\n    return this;\n  }\n};\n\nexport { log };\n","// TODO frameTemplate makes svg node by simply copying svg markup into the template.\n\nconst frameTemplate = (index, shape, frame) => {\n  const template = document.createElement('template');\n  template.innerHTML = `\n    <div class=\"svg\">${shape.markup}</div>\n    <div class=\"frame-body\" data-type=\"frame\" data-id=\"${frame._id}\"></div>\n    <div class=\"rotate-handle\" data-type=\"rotate-handle\">\n    </div>\n    <div class=\"corner top-left\" data-type=\"top-left-corner\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner top-right\" data-type=\"top-right-corner\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner bottom-left\" data-type=\"bot-left-corner\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"corner bottom-right\" data-type=\"bot-right-corner\">\n      <div class=\"center\"></div>\n    </div>\n    <div class=\"counter\" data-type=\"counter\">${index}</div>\n    <a class=\"deleteLink\" href=\"#\" data-type=\"deleteLink\">&times;</a>\n  `;\n  return template;\n};\n\nconst nodeFactory = {\n  makeShapeNode(state, id) {\n    const node = document.createElement('div');\n    node.classList.add('shape');\n    node.dataset.id = id;\n    node.dataset.type = 'shape';\n    return node;\n  },\n\n  makeFrameNode(index, shape, frame) {\n    const node = document.createElement('div');\n    node.classList.add('frame');\n    // node.dataset.type = 'frame';\n    node.dataset.id = frame._id;\n    node.appendChild(frameTemplate(index, shape, frame).content.cloneNode(true));\n\n    const handle = node.querySelector('.rotate-handle');\n    handle.dataset.id = frame._id;\n\n    return node;\n  },\n\n  makeDocListNode(id) {\n    const node = document.createElement('li');\n    node.innerHTML = `\n      <a href=\"#\" class=\"pure-menu-link\"  data-type=\"doc-list-entry\" data-id=\"${id}\">${id}</a>\n    `;\n    node.classList.add('pure-menu-item');\n\n    return node;\n  },\n\n  makeNavigatorNode(doc) {\n    const node = document.createElement('ul');\n    node.classList.add('navigator-list');\n    // generate innerHTML in a loop\n  },\n\n  makeInspectorNode(frame) {\n    const node = document.createElement('ul');\n    node.classList.add('inspector-list');\n\n    if (frame !== undefined) {\n      node.innerHTML = `\n        <li>x: ${frame.x}</li>\n        <li>y: ${frame.y}</li>\n        <li>width: ${frame.width}</li>\n        <li>height: ${frame.height}</li>\n        <li>angle: ${frame.angle}</li>\n      `;\n    }\n\n    return node;\n  }\n};\n\nexport { nodeFactory };\n","const inputTable = [\n  // event type     pointer target        input\n  [['click',       'newShapeButton'   ], 'createShape'     ],\n  [['click',       'newDocButton'     ], 'createDoc'       ],\n  [['click',       'animateButton'    ], 'animate'         ],\n  [['click',       'doc-list-entry'   ], 'requestDoc'      ],\n  // NEW\n  [['mousedown',   'wrapper'          ], 'select'          ],\n  [['mousedown',   'dot'              ], 'initRotate'      ],\n  [['mousedown',   'corner'           ], 'initScale'       ],\n  [['dblclick',    'wrapper'          ], 'selectThrough'   ],\n  [['mousemove'                       ], 'movePointer'     ],\n  [['mouseup'                         ], 'release'         ],\n\n  // [['click',       'deleteLink'       ], 'deleteFrame'     ],\n  // [['click',       'canvas'           ], 'edit'            ],\n  // [['mousedown',   'frame'            ], 'getFrameOrigin'  ],\n  // [['mousedown',   'top-left-corner'  ], 'findOppCorner'   ],\n  // [['mousedown',   'top-right-corner' ], 'findOppCorner'   ],\n  // [['mousedown',   'bot-left-corner'  ], 'findOppCorner'   ],\n  // [['mousedown',   'bot-right-corner' ], 'findOppCorner'   ],\n  // [['mousedown',   'canvas'           ], 'setFrameOrigin'  ],\n  // [['mousedown',   'rotate-handle'    ], 'getStartAngle'   ],\n  // [['mousemove'                       ], 'changeCoords'    ],\n  // [['mouseup'                         ], 'releaseFrame'    ],\n];\n\ninputTable.get = function(key) {\n  const match = (pair) => {\n    return pair[0][0] === key[0] &&\n      (pair[0][1] === key[1] || pair[0][1] === undefined);\n  };\n\n  const pair = inputTable.find(match);\n\n  if (pair) {\n    return pair[1];\n  }\n};\n\nexport { inputTable };\n","const svgns = 'http://www.w3.org/2000/svg';\nconst xmlns = 'http://www.w3.org/2000/xmlns/';\n\nSVGElement.prototype.getSVGAttr = function(...args) {\n  return this.getAttributeNS.apply(this, [null].concat(args));\n};\n\nSVGElement.prototype.setSVGAttr = function(...args) {\n  return this.setAttributeNS.apply(this, [null].concat(args));\n};\n\nSVGElement.prototype.setSVGAttrs = function(obj) {\n  for (let key of Object.keys(obj)) {\n    this.setSVGAttr(key, obj[key]);\n  }\n};\n\nconst wrap = ($node, node) => {\n  const wrapper    = document.createElementNS(svgns, 'g');\n  const chrome     = document.createElementNS(svgns, 'g');\n  const frame      = document.createElementNS(svgns, 'rect');\n  const topLCorner = document.createElementNS(svgns, 'rect');\n  const botLCorner = document.createElementNS(svgns, 'rect');\n  const topRCorner = document.createElementNS(svgns, 'rect');\n  const botRCorner = document.createElementNS(svgns, 'rect');\n  const topLDot    = document.createElementNS(svgns, 'circle');\n  const botLDot    = document.createElementNS(svgns, 'circle');\n  const topRDot    = document.createElementNS(svgns, 'circle');\n  const botRDot    = document.createElementNS(svgns, 'circle');\n  const corners    = [topLCorner, botLCorner, topRCorner, botRCorner];\n  const dots       = [topLDot,    botLDot,    topRDot,    botRDot];\n\n  const width     = node.box.width;\n  const height    = node.box.height;\n  const x         = node.box.x;\n  const y         = node.box.y;\n  const transform = node.props.transform;\n  const id        = node._id;\n\n  $node.setSVGAttrs({\n    'data-type': 'content',\n    'pointer-events': 'none',\n  });\n\n  wrapper.setSVGAttrs({\n    'data-type':      'wrapper',\n    'pointer-events': 'bounding-box',\n    'data-id':        id,\n  });\n\n  chrome.setSVGAttrs({\n    'data-type': 'chrome',\n    'data-id': id,\n    'pointer-events': 'visiblePainted',\n    'visibility': 'hidden',\n  });\n\n  frame.setSVGAttrs({\n    'data-type':      'frame',\n    x:                 x,\n    y:                 y,\n    width:             width,\n    height:            height,\n    stroke:            '#d3d3d3',\n    'vector-effect':  'non-scaling-stroke',\n    'stroke-width':   '1px',\n    transform:         transform,            // the frame should be transformed\n    fill:             'none',\n    'pointer-events': 'none',\n    'data-id':        id,\n  });\n\n  for (let corner of corners) {\n    corner.setSVGAttrs({\n      'data-type':     'corner',\n      'data-id':       id,\n      transform:       transform,\n      width:           8,\n      height:          8,\n      stroke:          '#d3d3d3',\n      'vector-effect': 'non-scaling-stroke',\n      'stroke-width':  '1px',\n      fill:            '#FFFFFF',\n    });\n  }\n\n  topLCorner.setSVGAttrs({ x: x - 4,         y: y - 4          });\n  botLCorner.setSVGAttrs({ x: x - 4,         y: y + height - 4 });\n  topRCorner.setSVGAttrs({ x: x + width - 4, y: y - 4          });\n  botRCorner.setSVGAttrs({ x: x + width - 4, y: y + height - 4 });\n\n  for (let dot of dots) {\n    dot.setSVGAttrs({\n      'data-type':     'dot',\n      'data-id':       id,\n      transform:       transform,\n      r:               5,\n      stroke:          '#d3d3d3',\n      'vector-effect': 'non-scaling-stroke',\n      'stroke-width':  '1px',\n      fill:            '#FFFFFF',\n    });\n  }\n\n  topLDot.setSVGAttrs({ cx: x - 8,         cy: y - 8          });\n  botLDot.setSVGAttrs({ cx: x - 8,         cy: y + height + 8 });\n  topRDot.setSVGAttrs({ cx: x + width + 8, cy: y - 8          });\n  botRDot.setSVGAttrs({ cx: x + width + 8, cy: y + height + 8 });\n\n  wrapper.appendChild($node);\n  wrapper.appendChild(chrome);\n  chrome.appendChild(frame);\n  for (let corner of corners) {\n    chrome.appendChild(corner);\n  }\n  for (let dot of dots) {\n    chrome.appendChild(dot);\n  }\n\n  return wrapper;\n};\n\n\n// TODO: need to take care of style and defs\n\nconst sceneRenderer = {\n  render(scene, $canvas) {\n    canvas.innerHTML = '';\n    this.build(scene, $canvas);\n  },\n\n  build(node, $parent) {\n    const $node = document.createElementNS(svgns, node.tag);\n    $node.setSVGAttrs(node.props);\n    $node.setSVGAttr('data-id', node._id);\n\n    if (node.tag === 'svg') {\n      $node.setAttributeNS(xmlns, 'xmlns', svgns);\n      $node.setAttributeNS(svgns, 'data-type', 'root');\n      $parent.appendChild($node);\n    } else {\n      const $wrapper = wrap($node, node);\n      $parent.appendChild($wrapper);\n    }\n\n    for (let child of node.children) {\n      sceneRenderer.build(child, $node);\n    }\n  },\n};\n\nexport { sceneRenderer };\n\n\n// Need to reorganize this in such a way that we have access to the pair ($node, node) throughout\n","import { nodeFactory } from './nodeFactory.js';\nimport { inputTable } from './inputTable.js';\nimport { sceneRenderer } from './sceneRenderer.js';\n\nSVGElement.prototype.getTransformToElement = SVGElement.prototype.getTransformToElement || function(element) {\n    return element.getScreenCTM().inverse().multiply(this.getScreenCTM());\n};\n\nconst ui = {\n  bindEvents(processInput) {\n    this.canvasNode = document.querySelector('#canvas');\n\n    const getSVGCoords = (x, y) => {\n      const svg = document.querySelector('svg');\n      let point = svg.createSVGPoint();\n      point.x   = x;\n      point.y   = y;\n      point     = point.matrixTransform(svg.getScreenCTM().inverse());\n\n      return [point.x, point.y];\n    };\n\n    const pointerData = (event) => {\n      const [x, y] = getSVGCoords(event.clientX, event.clientY);\n\n      return {\n        x:        x,\n        y:        y,\n        target:   event.target.dataset.type,\n        targetID: event.target.dataset.id,\n      };\n    };\n\n    for (let eventType of ['mousedown', 'mousemove', 'mouseup']) {\n      this.canvasNode.addEventListener(eventType, (event) => {\n        event.preventDefault();\n\n        processInput({\n          id:      inputTable.get([eventType, event.target.dataset.type]),\n          pointer: pointerData(event),\n        });\n      });\n    }\n\n    document.addEventListener('click', (event) => {\n      event.preventDefault();\n      if (event.detail > 1) {\n        return;\n      }\n\n      processInput({\n        id:      inputTable.get(['click', event.target.dataset.type]),\n        pointer: pointerData(event)\n      });\n    });\n\n    document.addEventListener('dblclick', (event) => {\n      event.preventDefault();\n\n      processInput({\n        id:      inputTable.get(['dblclick', event.target.dataset.type]),\n        pointer: pointerData(event)\n      });\n    });\n  },\n\n  sync(state) {\n    const changes = (state1, state2) => {\n      const keys = Object.keys(state1);\n      return keys.filter(key => !equalData(state1[key], state2[key]));\n    };\n\n    const equalData = (obj1, obj2) => {\n      return JSON.stringify(obj1) === JSON.stringify(obj2);\n    };\n\n    if (state.id === 'start') {\n      this.start(state);\n      this.renderScene(state); // ?\n      return;\n    }\n\n    for (let changed of changes(state, this.previousState)) {\n      this.render[changed] && this.render[changed](state);\n    }\n\n    this.previousState = state;\n  },\n\n  render: {\n    doc(state) {\n      ui.renderScene(state);\n      // ui.renderInspector(state); // TODO ==> later\n    },\n\n    docs(state) {\n      ui.renderDocList(state);\n    },\n\n    currentInput(state) {\n      if (state.currentInput === 'docSaved') {\n        ui.renderFlash('Saved');\n      }\n\n      if (state.currentInput === 'edit') {\n        ui.renderScene(state);\n      }\n    },\n\n    clock(state) {\n      if (state.currentInput === 'animate') {\n        ui.renderAnimations(state);\n      }\n    },\n  },\n\n  renderScene(state) {\n    sceneRenderer.render(state.doc.scene, ui.canvasNode);\n  },\n\n  renderDocList(state) {\n    const docList = document.querySelector('.doc-list');\n    docList.innerHTML = '';\n\n    for (let docID of state.docs.ids) {\n      const node = nodeFactory.makeDocListNode(docID);\n      docList.appendChild(node);\n      if (docID === state.docs.selectedID) {\n        node.classList.add('selected');\n      }\n    }\n  },\n\n  renderInspector(state) {\n    const findSelected = (doc) => {\n      for (let shape of doc.shapes) {\n        for (let frame of shape.frames) {\n          if (frame._id === doc.selected.frameID) {\n            return frame;\n          }\n        }\n      }\n    };\n\n    const inspector = document.querySelector('#inspector');\n    inspector.innerHTML = '';\n\n    const node = nodeFactory.makeInspectorNode(findSelected(state.doc));\n    inspector.appendChild(node);\n  },\n\n  renderAnimations(state) {\n    const convertAngleToDegrees = (frame) => {\n      return {\n        x:        frame.x,\n        y:        frame.y,\n        width:    frame.width,\n        height:   frame.height,\n        rotation: frame.angle * 57.2958, // convert to degrees\n      };\n    };\n\n    ui.canvasNode.innerHTML = '';\n\n    for (let shape of state.doc.shapes) {\n      const timeline = new TimelineMax();\n      const shapeNode = nodeFactory.makeShapeNode(state);\n      shapeNode.innerHTML = shape.markup;\n\n      for (let i = 0; i < shape.frames.length - 1; i += 1) {\n        let start = shape.frames[i];\n        let end   = shape.frames[i + 1];\n\n        timeline.fromTo(\n          shapeNode,\n          0.3,\n          convertAngleToDegrees(start),\n          convertAngleToDegrees(end)\n        );\n      }\n\n      ui.canvasNode.appendChild(shapeNode);\n    }\n  },\n\n  renderFlash(message) {\n    const flash = document.createElement('p');\n    flash.innerHTML = message;\n    flash.classList.add('flash');\n    window.setTimeout(() => document.body.appendChild(flash), 500);\n    window.setTimeout(() => flash.remove(), 1500);\n  },\n\n  writeCSS(node, frame) {\n    node.style.left      = String(frame.x) + 'px';\n    node.style.top       = String(frame.y) + 'px';\n    node.style.width     = String(frame.width) + 'px';\n    node.style.height    = String(frame.height) + 'px';\n    node.style.transform = `rotate(${frame.angle}rad)`;\n  },\n\n  start(state) {\n    this.previousState = state;\n  },\n\n  init() {\n    this.name = 'ui';\n  }\n};\n\nexport { ui };\n","const db = {\n  bindEvents(processInput) {\n    window.addEventListener('upsert', function(event) {\n      const request = new XMLHttpRequest;\n\n      request.addEventListener('load', function() {\n        processInput({\n          id: 'docSaved',\n          data: {}\n        });\n      });\n\n      request.open('POST', \"/docs/\" + event.detail._id);\n      request.send(JSON.stringify(event.detail));\n    });\n\n    window.addEventListener('read', function(event) {\n      const request = new XMLHttpRequest;\n\n      request.addEventListener('load', function() {\n        processInput({\n          id: 'setDoc',\n          data: {\n            doc: request.response\n          }\n        });\n      });\n\n      request.open('GET', \"/docs/\" + event.detail);\n      request.responseType = 'json';\n      request.send(JSON.stringify(event.detail));\n    });\n\n    window.addEventListener('loadDocIDs', function(event) {\n      const request = new XMLHttpRequest;\n\n      request.addEventListener('load', function() {\n        processInput({\n          id: 'updateDocList',\n          data: {\n            docIDs: request.response\n          }\n        });\n      });\n\n      request.open('GET', \"/ids\");\n      request.responseType = 'json';\n      request.send();\n    });\n  },\n\n  sync(state) {\n    if (state.id === 'start') {\n      db.loadDocIDs();\n      this.previousState = state;\n      return;\n    }\n\n    if (['idle', 'busy'].includes(state.id)) {\n      for (let changed of this.changes(state, this.previousState)) {\n        this.crud[changed] && this.crud[changed](state);\n      }\n      this.previousState = state;\n    }\n  },\n\n  crud: {\n    docs(state) {\n      if (state.docs.selectedID !== db.previousState.docs.selectedID) {\n        window.dispatchEvent(new CustomEvent(\n          'read',\n          { detail: state.docs.selectedID }\n        ));\n      }\n    },\n\n    doc(state) {\n      if (state.docs.selectedID === db.previousState.docs.selectedID) {\n        window.dispatchEvent(new CustomEvent(\n          'upsert',\n          { detail: state.doc }\n        ));\n      }\n    },\n  },\n\n  changes(state1, state2) {\n    const keys = Object.keys(state1);\n    return keys.filter(key => !db.equal(state1[key], state2[key]));\n  },\n\n  equal(obj1, obj2) {\n    return JSON.stringify(obj1) === JSON.stringify(obj2);\n  },\n\n  loadDocIDs() {\n    window.dispatchEvent(new Event('loadDocIDs'));\n  },\n\n  init() {\n    this.name = 'db';\n  }\n};\n\nexport { db };\n","import { core } from './core/core.js';\nimport { log } from './log/log.js';\nimport { ui } from './ui/ui.js';\nimport { db } from './db/db.js';\n\nconst app = {\n  init() {\n    core.init();\n\n    // wire up `ui` and `db`\n    for (let component of [ui, db]) {\n      component.init();\n      component.bindEvents(core.processInput.bind(core));\n      core.periphery[component.name] = component.sync.bind(component);\n    }\n\n    // wire up `log`\n    log.init();\n    log.bindEvents(core.setState.bind(core));\n    core.periphery[log.name] = log.sync.bind(log);\n\n    core.kickoff();\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', app.init.bind(app));\n"],"names":["createID"],"mappings":"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"}